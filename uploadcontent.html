<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<h1> Upload Content </h1>
<form id = 'uploadcontentform' action = "" method = "post">
<table border = "0">
	<tr>
	<td><label>Please enter the name of the quiz</label></td><td><input name = 'name' type = "text" size = '50'/></td>
	</tr>

	<tr>
	<td><label></label></td><td><label>Questions</label></td><td><label>Answer Choices</label></td><td><label>Correct Answer</label></td>
	</tr>

	<tr>
	<td><label>Question 1</label></td><td><input name = 'question_1' type = 'text' size = '50'/></td><td><input name = 'answer_1_1' type = 'text' size = '20'/></td><td><input type="text" name="correct_1" size = '20'></td>
	</tr>

	<tr>
	<td></td><td></td><td><input name = 'answer_1_2' type = 'text' size = '20'/></td>
	</tr>

	<tr>
	<td></td><td></td><td><input name = 'answer_1_3' type = 'text' size = '20'/></td>
	</tr>

	<tr>
	<td><label>Question 2</label></td><td><input name = 'question_2' type = 'text' size = '50'/></td><td><input name = 'answer_2_1' type = 'text' size = '20'/></td><td><input type="text" name="correct_2" size = '20'></td>
	</tr>

	<tr>
	<td></td><td></td><td><input name = 'answer_2_2' type = 'text' size = '20'/></td>
	</tr>

	<tr>
	<td></td><td></td><td><input name = 'answer_2_3' type = 'text' size = '20'/></td>
	</tr>

	<tr>
	<td><label>Question 3</label></td><td><input name = 'question_3' type = 'text' size = '50'/></td><td><input name = 'answer_3_1' type = 'text' size = '20'/></td><td><input type="text" name="correct_3" size = '20'></td>	
	</tr>

	<tr>
	<td></td><td></td><td><input name = 'answer_3_2' type = 'text' size = '20'/></td>
	</tr>

	<tr>
	<td></td><td></td><td><input name = 'answer_3_3' type = 'text' size = '20'/></td>
	</tr>

	<tr>
	<td><label>Question 4</label></td><td><input name = 'question_4' type = 'text' size = '50'/></td><td><input name = 'answer_4_1' type = 'text' size = '20'/></td><td><input type="text" name="correct_4" size = '20'></td>
	</tr>

	<tr>
	<td></td><td></td><td><input name = 'answer_4_2' type = 'text' size = '20'/></td>
	</tr>

	<tr>
	<td></td><td></td><td><input name = 'answer_4_3' type = 'text' size = '20'/></td>
	</tr>

	<tr>
	<td><label>Question 5</label></td><td><input name = 'question_5' type = 'text' size = '50'/></td><td><input name = 'answer_5_1' type = 'text' size = '20'/></td><td><input type="text" name="correct_5" size = '20'></td>
	</tr>

	<tr>
	<td></td><td></td><td><input name = 'answer_5_2' type = 'text' size = '20'/></td>
	</tr>

	<tr>
	<td></td><td></td><td><input name = 'answer_5_3' type = 'text' size = '20'/></td>
	</tr>

	<tr>
	<td><label>Question 6</label></td><td><input name = 'question_6' type = 'text' size = '50'/></td><td><input name = 'answer_6_1' type = 'text' size = '20'/></td><td><input type="text" name="correct_6" size = '20'></td>
	</tr>

	<tr>
	<td></td><td></td><td><input name = 'answer_6_2' type = 'text' size = '20'/></td>
	</tr>

	<tr>
	<td></td><td></td><td><input name = 'answer_6_3' type = 'text' size = '20'/></td>
	</tr>

	<tr>
	<td><input type = 'button' name = 'uploadbtn' value = "Upload" onclick = "upload()"/></td>
	</tr>

</table>
</form>
</body>
</html>

<script type = "text/javascript">
var xhr;
if (window.ActiveXObject)
{
  xhr = new ActiveXObject("Microsoft.XMLHTTP");
}
else if (window.XMLHttpRequest)
{
  xhr = new XMLHttpRequest();
}

function callServer(nameQuiz, content)
{
	// alert(content);
  var url = "https://www.cs.utexas.edu/~megashby/Software_Engineering/Project34/uploadquizdatabase.php?nameQuiz="+nameQuiz+"&content="+content;
  xhr.open('GET', url, true);
  xhr.onreadystatechange = updatePage;
  xhr.send(null);
}
function updatePage()
{
	// alert(xhr.readyState);
	// alert(xhr.status);
  if ((xhr.readyState == 4) && (xhr.status == 200))
  {
    var response = xhr.responseText;
    window.alert(response);

  }
}
function uploadq(q1, a11, a12, a13, r1)
	{	
		if(q1 == '' || a11 == '' || a12 == '' || a13 == '' || r1 == ''){
			return ''+'\n' + '' +'\n'+''+ '\n'+''+'\n'+''+'\n';
					}
		else{
			var text = "";
			var question1 = q1;
			text += question1 + '*';
			var answer11= a11;
			var answer12 = a12;
			var answer13 = a13;
			var correct1 = r1;
			text += answer11 +'*' + answer12 + '*' + answer13 + '*' + correct1+'*'
			return text;
			}
	}
	// document.getElementById('uploadcontentform').uploadbtn.onclick = upload();
	function upload()
	{	
		var text = "";
		var elt= document.getElementById('uploadcontentform');
		var name = elt.name.value;


		var question1 = elt.question_1.value;
		var answer11= elt.answer_1_1.value;
		var answer12 = elt.answer_1_2.value;
		var answer13 = elt.answer_1_3.value;
		var correct1 = elt.correct_1.value;
		text+=uploadq(question1, answer11, answer12, answer13, correct1)

		var question2 = elt.question_2.value;
		var answer21= elt.answer_2_1.value;
		var answer22 = elt.answer_2_2.value;
		var answer23 = elt.answer_2_3.value;
		var correct2 = elt.correct_2.value;
		text+=uploadq(question2, answer21, answer22, answer23, correct2)

		var question3 = elt.question_3.value;
		var answer31= elt.answer_3_1.value;
		var answer32 = elt.answer_3_2.value;
		var answer33 = elt.answer_3_3.value;
		var correct3 = elt.correct_3.value;
		text+=uploadq(question3, answer31, answer32, answer33, correct3)

		var question4 = elt.question_4.value;
		var answer41= elt.answer_4_1.value;
		var answer42 = elt.answer_4_2.value;
		var answer43 = elt.answer_4_3.value;
		var correct4 = elt.correct_4.value;
		text+=uploadq(question4, answer41, answer42, answer43, correct4)

		var question5 = elt.question_5.value;
		var answer51= elt.answer_5_1.value;
		var answer52 = elt.answer_5_2.value;
		var answer53 = elt.answer_5_3.value;
		var correct5 = elt.correct_5.value;
		text+=uploadq(question5, answer51, answer52, answer53, correct5)

		var question6 = elt.question_6.value;
		var answer61= elt.answer_6_1.value;
		var answer62 = elt.answer_6_2.value;
		var answer63 = elt.answer_6_3.value;
		var correct6 = elt.correct_6.value;	
		text+=uploadq(question6, answer61, answer62, answer63, correct6)

		// alert(text);
		elt.reset();
		// window.alert(elt);
		callServer(name, text)}
</script>
